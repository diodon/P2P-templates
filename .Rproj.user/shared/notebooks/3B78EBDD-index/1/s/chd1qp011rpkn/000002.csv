"0","library(lutz)"
"0","library(lubridate)"
"0","library(knitr)"
"0",""
"0","## get number of seconds from midnight"
"0","secsSTART = (1 -abs(as.numeric(julian(DF.sites$TIME_START)) - (as.integer(julian(DF.sites$TIME_START))))) * (60*60*24)"
"0","secsEND = (1 - abs(as.numeric(julian(DF.sites$TIME_END)) - (as.integer(julian(DF.sites$TIME_END))))) * (60*60*24)"
"0","dateChar = paste(DF.sites$YEAR, DF.sites$MONTH, DF.sites$DAY, sep=""-"")"
"0",""
"0","## get timezone and timezone offset"
"0","timeZone = tz_lookup_coords(mean(DF.sites$LATITUDE, na.rm=T), mean(DF.sites$LONGITUDE, na.rm=T), method=""accurate"")"
"0","dateOffset = tz_offset(dateChar, timeZone)$utc_offset_h"
"0",""
"0","## create data and time UTC"
"0","DF.sites$eventDate = as.POSIXct(dateChar, tz=""UTC"")"
"0","DF.sites$TIME_START = DF.sites$eventDate + seconds(secsSTART) + hours(dateOffset)"
"0","DF.sites$TIME_END = DF.sites$eventDate + seconds(secsEND) + hours(dateOffset)"
"0","DF.sites$eventTime = paste(format(DF.sites$TIME_START, ""%H:%M:%SZ""), format(DF.sites$TIME_END, ""%H:%M:%SZ""), sep=""/"")"
"0",""
"0","print(timeZone)"
"1","[1]"
"1"," ""America/Argentina/Catamarca"""
"1","
"
"0","kable(DF.sites[1:5, c(3:5, 13:14)])"
